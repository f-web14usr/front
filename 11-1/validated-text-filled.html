<!DOCTYPE html>
<html>

<head>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous">
	<link rel="stylesheet" href="style.css">
</head>

<body> 
	<style>
   
	</style>
	
		<form >
			
			<div class="input-icons"id="container">

         
            
				<input type="email"id="email" name="email"class="outline-text"placeholder="example@gmail.com"  pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"required>

				<br>
				<span id="error"class="error-label"></span>
				<br>			
				<button class="btn">ارسال</button>
			</div>
			

		
			
		</form>
<script type="text/javascript">
let emaillist=document.querySelectorAll("[type='email']");

for(let email of emaillist)
{
    email.addEventListener('input',checkemail);
    var mailerror="";
   
   
}
function checkemail(e){
  
    if(this.validity.valueMissing)
    {
		this.classList.remove("outline-text:focus");
this.classList.add("error_input");
    mailerror="این فیلد حتما باید پرشود";
     this.setCustomValidity(mailerror);
     this.reportValidity();
    }
    else if(this.validity.patternMismatch==true)
    {
		this.classList.remove("outline-text:focus");
this.classList.add("error_input");
     mailerror=" الگوی ورودی نا معتبر است";
     this.setCustomValidity(mailerror);
     this.reportValidity();
 
    }
    else if(this.validity.patternMismatch==false){
        this.setCustomValidity('');
        this.reportValidity();
     }

  else if(this.validity.typeMismatch==true)
    {
		this.classList.remove("outline-text:focus");
this.classList.add("error_input");
        mailerror="  ورودی  باید یک ایمیل باشد";
        this.setCustomValidity(mailerror);
        this.reportValidity();

    }
   

 else{
    this.setCustomValidity('');
    this.reportValidity();
 }

}

</script>
</body>


</html>
